{"version":3,"file":"index.js","sources":["../src/util.js","../src/observer/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["export function isFunction (val) {\n    return typeof val === 'function';\n}\n\nexport function isObject (val) {\n    return typeof val === 'object' && val !== null;\n}","import { isObject } from \"../util\";\n\nclass Observer {\n    constructor (data) {\n        this.walk(data);\n    }\n\n    walk (data) {\n        Object.keys(data).forEach(key => {\n            defineReactive(data, key, data[key])\n        })\n    }\n}\n\nfunction defineReactive (data, key, value) {\n    observe(value)\n    Object.defineProperty(data, key, {\n        get () {\n            return value;\n        },\n        set (newV) {\n            observe(newV);\n            value = newV;\n        }\n    })\n}\n\nexport function observe (data) {\n    if (!isObject(data)) {\n        return;\n    }\n\n    return new Observer(data);\n}","import { isFunction } from \"./util\";\nimport { observe } from './observer/index';\n\nexport function initSate (vm) {\n    const opts = vm.$options;\n    if (opts.data) {\n        initData(vm);\n    }\n}\n\nfunction initData (vm) {\n    let data = vm.$options.data;\n\n    data = vm._data = isFunction(data) ? data.call(vm) : data;\n\n    observe(data);\n}","import { initSate } from './state';\n\nexport function initMixin (Vue) {\n    Vue.prototype._init = function (options) {\n        const vm = this;\n        vm.$options = options;\n\n        //对数据进行初始化 watch、props ...\n        initSate(vm);\n    }\n}","import { initMixin }from \"./init\";\n\nfunction Vue(options) {\n    this._init(options); \n}\n\ninitMixin(Vue);\n\n\nexport default Vue;"],"names":[],"mappings":";;;;;;IAAO,SAAS,UAAU,EAAE,GAAG,EAAE;IACjC,IAAI,OAAO,OAAO,GAAG,KAAK,UAAU,CAAC;IACrC,CAAC;AACD;IACO,SAAS,QAAQ,EAAE,GAAG,EAAE;IAC/B,IAAI,OAAO,OAAO,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,IAAI,CAAC;IACnD;;ICJA,MAAM,QAAQ,CAAC;IACf,IAAI,WAAW,CAAC,CAAC,IAAI,EAAE;IACvB,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxB,KAAK;AACL;IACA,IAAI,IAAI,CAAC,CAAC,IAAI,EAAE;IAChB,QAAQ,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI;IACzC,YAAY,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAC;IAChD,SAAS,EAAC;IACV,KAAK;IACL,CAAC;AACD;IACA,SAAS,cAAc,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE;IAC3C,IAAI,OAAO,CAAC,KAAK,EAAC;IAClB,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE;IACrC,QAAQ,GAAG,CAAC,GAAG;IACf,YAAY,OAAO,KAAK,CAAC;IACzB,SAAS;IACT,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE;IACnB,YAAY,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1B,YAAY,KAAK,GAAG,IAAI,CAAC;IACzB,SAAS;IACT,KAAK,EAAC;IACN,CAAC;AACD;IACO,SAAS,OAAO,EAAE,IAAI,EAAE;IAC/B,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;IACzB,QAAQ,OAAO;IACf,KAAK;AACL;IACA,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC9B;;IC9BO,SAAS,QAAQ,EAAE,EAAE,EAAE;IAC9B,IAAI,MAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC;IAC7B,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE;IACnB,QAAQ,QAAQ,CAAC,EAAE,CAAC,CAAC;IACrB,KAAK;IACL,CAAC;AACD;IACA,SAAS,QAAQ,EAAE,EAAE,EAAE;IACvB,IAAI,IAAI,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;AAChC;IACA,IAAI,IAAI,GAAG,EAAE,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;AAC9D;IACA,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;IAClB;;ICdO,SAAS,SAAS,EAAE,GAAG,EAAE;IAChC,IAAI,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,OAAO,EAAE;IAC7C,QAAQ,MAAM,EAAE,GAAG,IAAI,CAAC;IACxB,QAAQ,EAAE,CAAC,QAAQ,GAAG,OAAO,CAAC;AAC9B;IACA;IACA,QAAQ,QAAQ,CAAC,EAAE,CAAC,CAAC;IACrB,MAAK;IACL;;ICRA,SAAS,GAAG,CAAC,OAAO,EAAE;IACtB,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACxB,CAAC;AACD;IACA,SAAS,CAAC,GAAG,CAAC;;;;;;;;"}